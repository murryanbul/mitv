<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate IPTV Pro</title>
    
    <!-- External Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://vjs.zencdn.net/8.6.1/video-js.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link href="assets/css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Connection Modal -->
    <div id="connection-modal" class="connection-modal">
        <div class="modal-content">
            <div class="text-center mb-4">
                <i class="fas fa-satellite-dish fa-3x mb-3" style="color: var(--primary);"></i>
                <h3 class="mb-2">Connect to IPTV Server</h3>
                <p style="color: var(--text-muted);">Enter your server credentials to get started</p>
            </div>
            
            <form id="connection-form">
                <div class="mb-3">
                    <label for="server-url" class="form-label">Server URL</label>
                    <input type="url" class="search-input" id="server-url" 
                           placeholder="http://example.com" value="http://baskup.xp1.tv" required>
                </div>
                
                <div class="mb-4">
                    <label for="mac-address" class="form-label">MAC Address</label>
                    <input type="text" class="search-input" id="mac-address" 
                           placeholder="00:1A:79:XX:XX:XX" value="00:1A:79:44:96:F6" required>
                </div>
                
                <button type="submit" class="btn btn-primary w-100">
                    <i class="fas fa-plug me-2"></i>
                    <span id="connect-text">Connect to Server</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-tv"></i>
            Ultimate Perfect IPTV
        </div>
        
        <div class="connection-status">
            <div class="d-flex align-items-center">
                <span class="status-indicator status-disconnected" id="status-indicator"></span>
                <span id="connection-status">Disconnected</span>
            </div>
            
            <div id="account-info" class="hidden">
                <span id="account-details">Account info</span>
            </div>
            
            <button class="btn btn-outline btn-sm hidden" id="disconnect-btn">
                <i class="fas fa-sign-out-alt"></i>
                Disconnect
            </button>
        </div>
    </header>

    <!-- Main Navigation Pills -->
    <nav class="main-nav">
        <div class="nav-pills">
            <button class="nav-pill active" data-tab="live" id="live-tab">
                <i class="fas fa-broadcast-tower"></i>
                Live TV
            </button>
            <button class="nav-pill" data-tab="movies" id="movies-tab">
                <i class="fas fa-film"></i>
                Movies
            </button>
            <button class="nav-pill" data-tab="series" id="series-tab">
                <i class="fas fa-tv"></i>
                TV Series
            </button>
        </div>
    </nav>

    <!-- Scroll Mode Toggle -->
    <div class="scroll-mode-toggle">
        <button class="btn btn-outline btn-sm" id="toggle-scroll-mode" title="Toggle scroll mode">
            <i class="fas fa-arrows-alt-v" id="scroll-icon"></i>
            <span id="scroll-text">Grid Scroll</span>
        </button>
    </div>


    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title" id="sidebar-title">CATEGORIES</div>
                <button class="refresh-btn" id="refresh-categories">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            
            <div class="category-search">
                <input type="text" class="category-search-input" id="category-search" 
                       placeholder="Search categories...">
            </div>
            
            <!-- Video Player Section (Embedded in sidebar) -->
            <div id="video-section" class="video-section">
                <div class="video-container">
                    <video
                        id="video-player"
                        class="video-js vjs-default-skin"
                        controls
                        preload="auto"
                        data-setup="{}">
                    </video>
                </div>
                <div class="video-controls">
                    <div class="video-info">
                        <h6 id="current-title">Player Ready</h6>
                        <small id="current-subtitle">Select content to play</small>
                    </div>
                    <div class="control-buttons">
                        <button class="btn btn-outline btn-sm" id="copy-link" title="Copy Stream Link">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn btn-outline btn-sm" id="minimize-player" title="Minimize">
                            <i class="fas fa-compress"></i>
                        </button>
                        <button class="btn btn-outline btn-sm" id="restore-player" title="Restore" style="display: none;">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </button>
                        <button class="btn btn-outline btn-sm" id="pip-player" title="Picture in Picture">
                            <i class="fas fa-clone"></i>
                        </button>
                        <button class="btn btn-outline btn-sm" id="fullscreen-player" title="Fullscreen">
                            <i class="fas fa-expand"></i>
                        </button>
                        <button class="btn btn-danger btn-sm" id="stop-player" title="Stop">
                            <i class="fas fa-stop"></i>
                            Stop
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Recently Watched Section -->
            <div class="recently-watched-section" id="recently-watched-section" style="display: none;">
                <div class="sidebar-header">
                    <div class="sidebar-title">RECENTLY WATCHED</div>
                </div>
                <div class="recently-watched-container" id="recently-watched-container">
                    <!-- Recently watched items will be loaded here -->
                </div>
            </div>
            
            <!-- Favorites Section -->
            <div class="favorites-section" id="favorites-section" style="display: none;">
                <div class="sidebar-header">
                    <div class="sidebar-title">FAVORITES</div>
                </div>
                <div class="favorites-container" id="favorites-container">
                    <!-- Favorite items will be loaded here -->
                </div>
            </div>
            
            <div class="categories-container" id="categories-container">
                <!-- Categories will be dynamically loaded here -->
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content-area">
            <!-- Breadcrumb Navigation -->
            <div id="breadcrumb-nav" class="breadcrumb-nav hidden">
                <button class="back-btn" id="back-btn">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
                <span class="breadcrumb-text" id="breadcrumb-text"></span>
            </div>


            <!-- Content Section -->
            <div class="content-section">
                <div class="content-header">
                    <div class="search-container">
                        <input type="text" class="search-input" id="search-input" 
                               placeholder="Search content...">
                        <button class="btn btn-primary" id="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                        <button class="btn btn-outline" id="clear-search" title="Clear search">
                            <i class="fas fa-times"></i>
                        </button>
                        <div class="view-toggle">
                            <button class="view-btn active" id="grid-view" title="Grid View">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="view-btn" id="list-view" title="List View">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Loading State -->
                <div id="loading-state" class="loading-container hidden">
                    <div class="spinner"></div>
                    <p>Loading content...</p>
                </div>

                <!-- Content Grid View -->
                <div id="content-grid-view" class="content-grid-container hidden">
                    <div class="content-grid" id="content-grid">
                        <!-- Content cards will be dynamically generated -->
                    </div>
                    
                    <div class="load-more-container hidden" id="load-more-container">
                        <button class="load-more-btn" id="load-more-btn">
                            <i class="fas fa-plus-circle me-2"></i>
                            Load More Content
                        </button>
                    </div>
                    
                    <div class="load-more-spinner hidden" id="load-more-spinner">
                        <div class="spinner"></div>
                        <span>Loading more content...</span>
                    </div>
                </div>

                <!-- Content Table View -->
                <div id="content-table-view" class="content-table-container hidden">
                    <table class="table">
                        <thead>
                            <tr id="table-header">
                                <!-- Headers will be set dynamically -->
                            </tr>
                        </thead>
                        <tbody id="table-body">
                            <!-- Table rows will be dynamically generated -->
                        </tbody>
                    </table>
                </div>

                <!-- No Content State -->
                <div id="no-content-state" class="no-content hidden">
                    <i class="fas fa-search"></i>
                    <h5>No content found</h5>
                    <p>Try adjusting your search or selecting a different category.</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- External Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://vjs.zencdn.net/8.6.1/video.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mpegts.js@1.7.3/dist/mpegts.min.js"></script>

    <script src="assets/js/app.js"></script>
</body>
</html>
